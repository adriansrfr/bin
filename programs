#!/bin/bash
# lf integration
 lf () {
 	LF_TEMPDIR="$(mktemp -d -t lf-tempdir-XXXXXX)"
 	LF_TEMPDIR="$LF_TEMPDIR" lf-run -last-dir-path="$LF_TEMPDIR/lastdir" "$@"
 	if [ "$(cat "$LF_TEMPDIR/cdtolastdir" 2>/dev/null)" = "1" ]; then
 		cd "$(cat "$LF_TEMPDIR/lastdir")"
 	fi
 	rm -r "$LF_TEMPDIR"
 	unset LF_TEMPDIR
}

function getprograms
{
case "$(printf "Guake\nKeePass\nDropBox\nObsidian\n" | dmenu -l 10 -i -p "Programs:")" in
  "Guake") (guake &) &>/dev/null 2>&1 ;;
  "KeePass") (keepass2 &)  &>/dev/null 2>&1 ;;
  "DropBox") (flatpak run com.dropbox.Client &) &>/dev/null 2>&1 ;;
  "Obsidian") flatpak run md.obsidian.Obsidian &>/dev/null 2>&1 ;;
  *) exit 1 ;;
esac
}

function addnewsboaturl
{
  vim /home/adrian/snap/newsboat/6660/.newsboat/urls;
}

function startguake
{
 (guake &) &>/dev/null 2>&1 
}

function start
{
  (xdg-open . &)  &>/dev/null 2>&1
}

function keepass
{
  (keepass2 &)  &>/dev/null 2>&1 
}

function dropbox
{
  (flatpak run com.dropbox.Client &) &>/dev/null 2>&1
}

function obsidian
{
  flatpak run md.obsidian.Obsidian &>/dev/null 2>&1
}

function keepassshortcuts
{
  # https://keepass.info/help/kb/keyb_shortcuts.
  echo "ctrl-b username
ctrl-c password
ctrl-u url
ctrl-v autotype
ctrl-w close database" #| dmenu -l 5;
}

function getshortcuts
{
  echo "getdwm
windows
brave
cmd
keepassshortcuts 
vimshortcuts"| dmenu -l 6;

}

function vimshortcuts
{
  echo "ctrl-t terminal
  getvimhelp" | dmenu -l 2;

}

function getdwm 
{
  echo "Alt+Shift+Enter - Launch xterm
  Alt+Shift+C - Kill a client (a window, if you must insist)
  Alt+t - Switch to tile layout
  Alt+m - Switch to monocle layout
  Alt+f - Switch to floating layout
  Alt+b - Show/hide bar
  Alt+p - Launch dmenu
  Alt+j - Shift focus left
  Alt+k - Shift focus right
  Alt+Enter - Move focused window
  Alt+h - Change ratio
  Alt+l - Change ratio
  Alt+[num] - Switch to tag [num]
  Alt+Shift+Q - Quit dwm" | dmenu -l 14 ;
}


function zath
 {
   zathura $1 -P $2
 }


function obsidian
 {

   ( /usr/bin/flatpak run --branch=stable --arch=x86_64 --command=obsidian.sh --file-forwarding md.obsidian.Obsidian @@u %u @@ </dev/null &>/dev/null & )
  
 }

function programs
{
dmenu_run -i -l 20;
}

function brave
{
echo "Close window     ctrl-w
Find next match  ctrl-g
Navigation bar   ctrl-e
Scroll up        shift-space
Scroll down      space
Search bookmarks :b
Search history   :h" | dmenu -l 7 ;
}

function cmd
{
echo "Konsole
Focus above        ctrl-shift-up
Keyboard shortcuts ctrl-alt-,
Konsole            ctrl-alt-t
Menu               ctrl-shift-f10
New Tab            ctrl-shift-t
New Window         ctrl-shift-n
Quit               ctrl-shift-q
Split left/right   ctrl-(
Split below        ctrl-)" | dmenu -l 10 ;
}

function windows
{
echo "Kwin
ctrl-alt-t open terminal
meta-f Fullscreen
meta-m Minimize
meta-q Close
meta-down Move Window to Bottom
meta-left Move Window to Left
meta-right Move Window to Right
meta-up Move Window Up
meta-ctrl-Left Window to Bottom Left
meta-ctrl-Right Window to Bottom Right
meta-shift-Left Window to top Left
meta-shift-Right Window to top right
meta-k switch to window above
meta-j switch to window below
meta-h switch to window left
meta-l switch to window right
Darkmode toggle mod-ctrl-d
Rotate windows alt-tab
Window overview mod-w
Window walk-through alt-tab
Window menu alt-space" | dmenu -l 22;
}
